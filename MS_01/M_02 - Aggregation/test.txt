===============================

db.test.aggregate([
    {
        $match: { gender: "Male", age: { $lt: 30 } },

    }, {
        $project: { name: 1, email: 1 }
    }
])

===============================

db.test.aggregate([
    {
        $match: { gender: "Male" },
    }, 
    {
        $addFields: {course:"Next Level", eduTech:"PH"}
    },{
        $merge: "test"
    }
])

===============================

db.test.aggregate([
    {
        $group: { _id: "$gender",
        count:{$sum: 1},
            fullDoc:{$push: "$$ROOT"}
        }
    },
    {
       $project: {
           "fullDoc.name":1,
           "fullDoc.email":1,
           "fullDoc.phone":1,
           
       } 
    }
])

===============================

db.test.aggregate([
    {
        $group: {
            _id: null,
            max: {
                $max: "$salary",
            },
            min: {
                $min: "$salary",
            },
            avgSalary: {
                $avg: "$salary",
            }
        }
    },
    {
        $project: {
            max: 1,
            min: 1,
            averageSalary: "$avgSalary",

        }
    }
])

===============================